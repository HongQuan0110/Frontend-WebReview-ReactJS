(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1182:function(e,t,a){"use strict";a.r(t);var n=a(17),l=a.n(n),r=a(122),c=a(57),m=a(58),o=a(166),u=a(164),s=a(165),i=a(266),d=a(2),p=a.n(d),E=a(977),h=a(978),b=a(971),f=a(980),g=a(983),y=a(970),v=a(1026),k=a(267),C=a(36),x=a(35),S=function(){function e(){Object(c.a)(this,e)}return Object(m.a)(e,null,[{key:"AddComment",value:function(e){return C.a.post("".concat(x.a.apiUrl,"/comment"),e)}},{key:"SentimentAnalysis",value:function(e){return C.a.post("".concat(x.a.apiAnalysis,"/api/analysis"),{comments:[e]})}}]),e}(),O=a(53),D=a(957),N=a(135),j=a.n(N),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={background:""},a}return Object(s.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.children;"t\xedch c\u1ef1c"===e?this.setState({background:"bg-Hight-Score"}):"ti\xeau c\u1ef1c"===e?this.setState({background:"bg-Low-Score"}):this.setState({background:"bg-Medium-Score"})}},{key:"componentWillReceiveProps",value:function(e){var t=e.children;"t\xedch c\u1ef1c"===t?this.setState({background:"bg-Hight-Score"}):"ti\xeau c\u1ef1c"===t?this.setState({background:"bg-Low-Score"}):this.setState({background:"bg-Medium-Score"})}},{key:"render",value:function(){var e=this.props.children,t=this.state.background;return p.a.createElement("div",{className:j()(t,"classify")},e)}}]),t}(d.Component),M=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.comment;return p.a.createElement("div",{className:"mb-4"},p.a.createElement("div",{className:"d-flex flex-r\u01a1w"},p.a.createElement("img",{alt:"",className:"img-avatar mr-2",style:{borderRadius:"50%",height:"50px",width:"50px"},src:t.avatar?"".concat(x.a.apiAvatar,"/").concat(t.avatar):"".concat(x.a.defaultAvatar)}),p.a.createElement("div",{className:""},p.a.createElement("div",null,p.a.createElement("b",null,t.username)),p.a.createElement("span",null,p.a.createElement(D.a,{value:a.createdAt}))),p.a.createElement("div",{className:"ml-auto"},p.a.createElement(w,null,a.analysis))),p.a.createElement("div",null,a.content),p.a.createElement("span",{className:"thumbs-up"},p.a.createElement("i",{className:"fa fa-thumbs-up fa-sm"}),p.a.createElement("span",{className:"count"},a.like)),p.a.createElement("span",{className:"thumbs-down"},p.a.createElement("i",{className:"fa fa-thumbs-down"}),p.a.createElement("span",{className:"count"},a.dislike)))}}]),t}(d.Component),T=a(1165),I=a(1025),P=a(1066),B=a(1004),A=a(1067);var L=function(e){var t=e.isOpen,a=e.name,n=e.productDetail,l=e.toggle;return Object(d.useRef)(),function(e,t){function a(e){"modal fade show"===e.target.className&&t()}Object(d.useEffect)(function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}})}(0,l),p.a.createElement(T.a,{isOpen:t},p.a.createElement(I.a,null,"Th\xf4ng s\u1ed1 k\u1ef9 thu\u1eadt chi ti\u1ebft ",a),p.a.createElement(P.a,null,p.a.createElement("div",null,p.a.createElement(B.a,{className:"header-product-detail"},"M\xe0n h\xecnh"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"C\xf4ng ngh\u1ec7 m\xe0n h\xecnh"),p.a.createElement("td",null,n.screen?n.screen.screenTechnology:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"\u0110\u1ed9 ph\xe2n gi\u1ea3i"),p.a.createElement("td",null,n.screen?n.screen.resolution:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"M\xe0n h\xecnh r\u1ed9ng"),p.a.createElement("td",null,n.screen?n.screen.size:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"M\u1eb7t k\xednh c\u1ea3m \u1ee9ng"),p.a.createElement("td",null,n.screen?n.screen.touchScreen:"")))),p.a.createElement(B.a,{className:"header-product-detail"},"Camera sau"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"\u0110\u1ed9 ph\xe2n gi\u1ea3i"),p.a.createElement("td",null,n.mainCamera?n.mainCamera.resolution:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Quay phim"),p.a.createElement("td",null,n.mainCamera?n.mainCamera.video:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"\u0110\xe8n Flash"),p.a.createElement("td",null,n.mainCamera?n.mainCamera.flash?"C\xf3":"Kh\xf4ng":"")))),p.a.createElement(B.a,{className:"header-product-detail"},"Camera tr\u01b0\u1edbc"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"\u0110\u1ed9 ph\xe2n gi\u1ea3i"),p.a.createElement("td",null,n.selfieCamera?n.selfieCamera.resolution:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Quay phim"),p.a.createElement("td",null,n.selfieCamera?n.selfieCamera.video:"")))),p.a.createElement(B.a,{className:"header-product-detail"},"H\u1ec7 \u0111i\u1ec1u h\xe0nh - CPU"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"H\u1ec7 \u0111i\u1ec1u h\xe0nh"),p.a.createElement("td",null,n.platform?n.platform.os:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Chipset (h\xe3ng SX CPU)"),p.a.createElement("td",null,n.platform?n.platform.chipset:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"T\u1ed1c \u0111\u1ed9 CPU"),p.a.createElement("td",null,n.platform?n.platform.cpu:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Chip \u0111\u1ed3 h\u1ecda (GPU)"),p.a.createElement("td",null,n.platform?n.platform.gpu:"")))),p.a.createElement(B.a,{className:"header-product-detail"},"B\u1ed9 nh\u1edb & L\u01b0u tr\u1eef"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"RAM"),p.a.createElement("td",null,n.memory?n.memory.ram:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"B\u1ed9 nh\u1edb trong"),p.a.createElement("td",null,n.memory?n.memory.rom:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"TTh\u1ebb nh\u1edb ngo\xe0i"),p.a.createElement("td",null,n.memory?n.memory.cardSlot:"")))),p.a.createElement(B.a,{className:"header-product-detail"},"K\u1ebft n\u1ed1i"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"SIM"),p.a.createElement("td",null,n.comms?n.comms.sim:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Wifi"),p.a.createElement("td",null,n.comms?n.comms.wifi:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"GPS"),p.a.createElement("td",null,n.comms?n.comms.gps:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Bluetooth"),p.a.createElement("td",null,n.comms?n.comms.bluetooth:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Jack tai nghe"),p.a.createElement("td",null,n.comms?n.comms.jack:"")))),p.a.createElement(B.a,{className:"header-product-detail"},"Thi\u1ebft k\u1ebf & Tr\u1ecdng l\u01b0\u1ee3ng"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"Thi\u1ebft k\u1ebf"),p.a.createElement("td",null,n.body?n.body.build:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"K\xedch th\u01b0\u1edbc"),p.a.createElement("td",null,n.body?n.body.dimensions:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Tr\u1ecdng l\u01b0\u1ee3ng"),p.a.createElement("td",null,n.body?n.body.weight:"")))),p.a.createElement(B.a,{className:"header-product-detail"},"Th\xf4ng tin pin"),p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"200px"}},"Dung l\u01b0\u1ee3ng pin"),p.a.createElement("td",null,n.battery?n.battery.capacity:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Lo\u1ea1i pin"),p.a.createElement("td",null,n.battery?n.battery.type:"")))))),p.a.createElement(A.a,null,p.a.createElement(b.a,{color:"secondary",onClick:l},"H\u1ee7y")))},H=a(1068),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={doughnut:{},options:{}},a}return Object(s.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this.props.dataComments,n=0,l=0,r=0;a.map(function(e){"t\xedch c\u1ef1c"===e.analysis?n++:"ti\xeau c\u1ef1c"===e.analysis?l++:r++}),n>0||l>0||r>0?(e=[n,l,r],t=!0):(e=[0,0,0,1],t=!1),this.setState({doughnut:{labels:["T\xedch c\u1ef1c","Ti\xeau c\u1ef1c","B\xecnh th\u01b0\u1eddng"],datasets:[{data:e,backgroundColor:["#28a745","#f00","#fc3"]}]},options:{title:{display:!1,text:"5.0/10",position:"bottom"},tooltips:{enabled:t}}})}},{key:"componentWillReceiveProps",value:function(e){var t,a,n=e.dataComments,l=0,r=0,c=0;n.map(function(e){"t\xedch c\u1ef1c"===e.analysis?l++:"ti\xeau c\u1ef1c"===e.analysis?r++:c++}),l>0||r>0||c>0?(t=[l,r,c],a=!0):(t=[0,0,0,1],a=!1),this.setState({doughnut:{labels:["T\xedch c\u1ef1c","Ti\xeau c\u1ef1c","B\xecnh th\u01b0\u1eddng"],datasets:[{data:t,backgroundColor:["#28a745","#f00","#fc3"]}]},options:{title:{display:!1,text:"5.0/10",position:"bottom"},tooltips:{enabled:a}}})}},{key:"render",value:function(){var e=this.state,t=e.doughnut,a=e.options;return p.a.createElement(H.a,{data:t,options:a})}}]),t}(d.Component),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).toggleModalInfo=function(){a.setState({isOpenModal:!a.state.isOpenModal})},a.checkLogin=function(){if(a.props.user.msg)return a.props.history.push("/login",a.props.match.url)},a.onChange=function(e){var t=a.state.comment;t.content=e.target.value,a.setState({comment:t})},a.onSubmitComment=function(){var e=Object(r.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.comment,t.preventDefault(),!a.props.user.msg){e.next=4;break}return e.abrupt("return",a.props.history.push("/login",a.props.match.url));case 4:if(n.content.trim()){e.next=8;break}return e.abrupt("return",k.b.error("B\u1ea1n ph\u1ea3i nh\u1eadp nh\u1eadn x\xe9t"));case 8:return e.next=10,S.SentimentAnalysis(n.content);case 10:if(!(r=e.sent)){e.next=19;break}return n.analysis=r[0],e.next=15,S.AddComment(n);case 15:return e.next=17,a.props.getProductById(a.props.match.params.id);case 17:n.content="",a.setState({comment:n});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onMouseOver=function(e,t){a.setState({nodeScore:t})},a.onMouseLeave=function(e,t){a.setState({nodeScore:0})},a.onClick=function(e,t){if(a.props.user.msg)return a.props.history.push("/login",a.props.match.url);var n=a.state.comment;n.score=t,a.setState({comment:n})},a.showChart=function(e){if(e){var t=0,n=0,l=0;e.map(function(e){"T\xedch c\u1ef1c"===e.analysis?t++:"Ti\xeau c\u1ef1c"===e.analysis?n++:l++}),a.setState({doughnut:{labels:["T\xedch c\u1ef1c","Ti\xeau c\u1ef1c","B\xecnh th\u01b0\u1eddng"],datasets:[{data:[t,n,l],backgroundColor:["#28a745","#f00","#fc3"]}]},options:{title:{display:!1,text:"5.0/10",position:"bottom"},tooltips:{enabled:!1}}})}},a.state={comment:{productId:a.props.match.params.id,content:""},listSore:[1,2,3,4,5,6,7,8,9,10],nodeScore:0,isOpenModal:!1,doughnut:{labels:["S\u1ed1 \u0111i\u1ec3m"],datasets:[{data:[0,2],backgroundColor:["#FF6384"]}]},options:{title:{display:!0,text:"5.0/10",position:"bottom"},tooltips:{enabled:!1}}},a}return Object(s.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getProductById(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isOpenModal,n=t.comment,l=this.props.phoneInfo.phone;return p.a.createElement("div",null,l&&p.a.createElement(L,{isOpen:a,name:l.product.name,productDetail:l.productDetail,toggle:this.toggleModalInfo}),p.a.createElement("h3",{className:"border-bottom d-flex align-items-center pt-2"},l?l.product.name:""),p.a.createElement(E.a,null,p.a.createElement(h.a,{xs:"12",sm:"4"},p.a.createElement("img",{alt:"",height:"250",width:"auto",src:l?"".concat(x.a.apiProductImage,"/").concat(l.product.image):""})),p.a.createElement(h.a,{xs:"12",sm:"4"},l&&p.a.createElement(R,{dataComments:l.comments}))),p.a.createElement("br",null),p.a.createElement(E.a,null,p.a.createElement(h.a,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0 "},p.a.createElement(b.a,{color:"secondary",className:"btn-pill"},p.a.createElement("i",{className:"fa fa-plus-circle"}),"\xa0Mu\u1ed1n mua")),p.a.createElement(h.a,{xs:"12",sm:"8"},p.a.createElement("h4",null,"Nh\u1eadn x\xe9t"),p.a.createElement(f.a,{onSubmit:function(t){return e.onSubmitComment(t)}},p.a.createElement(g.a,{className:"form-group-comment"},p.a.createElement(y.a,{value:n.content,onChange:function(t){return e.onChange(t)},onClick:this.checkLogin,style:{height:"100px",maxHeight:"250px",minHeight:"56px"},type:"textarea",name:"text",id:"exampleText"}),p.a.createElement(b.a,{className:"btn-send-comment",outline:!0,color:"dark"},"G\u1eedi"))))),p.a.createElement("br",null),p.a.createElement(E.a,null,p.a.createElement(h.a,{xs:"12",sm:"4"},p.a.createElement("h4",null,"Th\xf4ng s\u1ed1 k\u1ef9 thu\u1eadt"),l&&l.productDetail&&p.a.createElement("div",null,p.a.createElement(v.a,null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"150px"}},"M\xe0n h\xecnh"),p.a.createElement("td",null,l.productDetail.screen?l.productDetail.screen.screenTechnology:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"H\u1ec7 \u0111i\u1ec1u h\xe0nh"),p.a.createElement("td",null,l.productDetail.platform?l.productDetail.platform.os:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Camera tr\u01b0\u1edbc"),p.a.createElement("td",null,l.productDetail.selfieCamera?l.productDetail.selfieCamera.resolution:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Camera sau"),p.a.createElement("td",null,l.productDetail.mainCamera?l.productDetail.mainCamera.resolution:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"CPU"),p.a.createElement("td",null,l.productDetail.platform?l.productDetail.platform.cpu:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"RAM"),p.a.createElement("td",null,l.productDetail.memory?l.productDetail.memory.ram:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"B\u1ed9 nh\u1edb trong"),p.a.createElement("td",null,l.productDetail.memory?l.productDetail.memory.rom:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Th\u1ebb nh\u1edb"),p.a.createElement("td",null,l.productDetail.memory?l.productDetail.memory.cardSlot:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Th\u1ebb SIM"),p.a.createElement("td",null,l.productDetail.comms?l.productDetail.comms.sim:"")),p.a.createElement("tr",null,p.a.createElement("td",null,"Dung l\u01b0\u1ee3ng pin"),p.a.createElement("td",null,l.productDetail.battery?l.productDetail.battery.capacity:"")))),p.a.createElement(b.a,{className:"mb-2",outline:!0,color:"primary",size:"lg",onClick:this.toggleModalInfo,block:!0},"Xem c\u1ea5u h\xecnh chi ti\u1ebft"))),p.a.createElement(h.a,{xs:"12",sm:"8"},p.a.createElement("h4",null,"\u0110\xe1nh gi\xe1 kh\xe1c"),l&&l.comments&&l.comments.map(function(e,t){return p.a.createElement(M,{key:t,user:l.users[t],comment:e,sizeScore:"large"})}))))}}]),t}(d.Component);t.default=Object(i.b)(function(e,t){return{phoneInfo:e.phone,user:e.auth.user}},function(e,t){return{getProductById:function(t){e(Object(O.g)(t))}}})(U)}}]);
//# sourceMappingURL=23.9b83ce65.chunk.js.map